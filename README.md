# GPT-Drafter

Simple utility that automatically drafts email responses and puts them in my Gmail. Supports both turbo-3.5 and GPT-4. GPT-4 can get pricey depending on email volume. 

The prompt is pretty basic (in `gmail.rb`), but I'm working on adding support for embedding previous emails + other sources of data so that it has more context to respond to a lot of them.

## How to use it

### Setup a Google Cloud OAuth
*The following was generated by ChatGPT*

- Go to https://console.developers.google.com/ and sign in with your Google account.
- Click on "Create Project" and fill in the project name and organization.
- After creating the project, click on "Enable APIs and Services".
- In the API Library, search for "Gmail API" and enable it.
- In the Google API Console, go to the "Credentials" tab.
- Click "Create credentials" and choose "OAuth client ID".
- Select "Web application" as the application type.
- Set the authorized redirect URIs (e.g., "http://localhost:4567/google_oauth" for a local development server).
- Click "Create" and note the generated client ID and client secret.

### Get an OpenAI key
*The following was generated by ChatGPT*

- Go to the OpenAI website at https://openai.com/
- Click on the "Sign up" button located on the top right corner of the page.
- Fill out the sign-up form, providing your name, email address, and password.
- Verify your email address by clicking on the verification link that will be sent to your email.
- Once you are logged in, click on the "API" link on the top navigation bar.
- Follow the instructions to create a new API key. You will be asked to provide a name for your API key and select the API plan that you would like to use.
- Once you have completed the steps, your API key will be displayed on the page. Be sure to copy and save your API key in a secure location.


### Setup ENV 

- Make a copy of the sample `mv .env.sample .env`
- Replace the sample keys with your owns

### Run it

- Run `ruby gmail.rb`
- Go to `localhost:4567`
- It responds to the last 5 emails in your Important inbox. You can change that in `gmail.rb:52`.
- Press "Generate Emails", it will take you to OAuth. Once you confirm, it will hang until emails are generated, and then show you the results.